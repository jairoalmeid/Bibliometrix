---
title: "Bibliometrix - RSL Eventos Climáticos Extremos"
output: html_notebook
---
** Preparando ambiente **
Para essa análise será utilizada a biblioteca Bibliometrix e suas dependências, para instalar utilize o comando

```{r}
install.packages("bibliometrix", dependencies=TRUE)
```


** Preparando a amostra **

- A exportação de conteúdo na Web Of Science é limitado a 500 registros, nesse estudo a amostra resultou em 572 documentos (12/jul/2022). Para que seja considerada a amostra toda, é necessário unir os arquivos

```{r}
library(bibliometrix)

file <- c("https://raw.githubusercontent.com/jairoalmeid/Bibliometrix/main/WebOfScience_export_part1.bib", "https://raw.githubusercontent.com/jairoalmeid/Bibliometrix/main/WebOfScience_export_part2.bib")

Amostra <- convert2df(file, dbsource = "wos", format = "bibtex")
```

- dbsource 
"isi" ou "wos" para arquivos vindo do Web Of Science;
"scopus" para arquivos da base de dados Scopus;
"pubmed" para arquivos da base PubMed;

- formart 
"bibtex" para arquivos em formato .bib
"plaintext" para arquivos em formato .txt
"endnote" para arquivos em formato .ciw

** Análise da importação **

Criação do objeto bibliometrix
O objeto contem informações como número de documentos, distribuição e frequência por autores, Ano de publicação etc. Essas informações serão utilizadas para realizar a análise estatística da amostra.
```{r}
results <- biblioAnalysis(Amostra, sep = ";")

```

A descrição estatística pode ser feita através da impressão do sumário, que contém um resumo com algumas informações. Nesse caso a variável "k" delimita a quantidade de informações.

```{r}
options(width=100)
S <- summary(object = results, k = 5, pause = FALSE)

```
** Plotagem gráfica **

Após criar o objeto Bibliometrix, é possível fazer a plotagem gráfica dos resultados. A variável "k" determina a quantidade de elementos que serão plotados

```{r}
plot(x = results, k = 15, pause = FALSE)

```


** Análise de referências e citações **
A função citations gera uma tabela de frequências com os primeiros-autores mais citados

```{r}
# Análise de autores mais citados
CR <- localCitations(Amostra, sep = ";")
CR$Authors[1:10,]
```
```{r}
# Análise dos papers mais citados
CR <- localCitations(Amostra, sep = ";")
CR$Papers[1:10,]
```
** Índice de dominância **

Criado por Kumar, S., & Kumar, S. (2008) calcula o ranking de dominância dos autores

``` {r}
DF <- dominance(results, k = 10)
DF
``` 

** Autor h-index **

É um índice capaz de mensurar a produtividade e o impacto de publicações de autores ou escolas. Esse índice é calculado com base na quantidade de citações que os autores receberam em outras publicações da amostra. 

``` {r}

# Calcula o h-index dos 10 autores
authors=gsub(","," ",names(results$Authors)[1:10])

indices <- Hindex(Amostra, field = "author", elements=authors, sep = ";", years = 50)

indices$H
``` 
``` {r}
# Lista o autor com maior produtividade ao longo do tempo
topAU <- authorProdOverTime(Amostra, k = 15, graph = TRUE)
head(topAU$dfAU)
```

** Coeficiente de Lotka **

A lei de Lotka descreve a frequência de publicação por autor. Segundo essa lei o número de autores que publicam um determinado número de artigos é uma proporção fixa para o número de autores que publicam um único artigo.

```{r}
L <- lotka(results)
L$AuthorProd
```


```{r}
# Coeficiente estimado
L$Beta

```

```{r}
# Plot com índice esperado e observado, seguindo a lei de Lotka

Observed=L$AuthorProd[,3]
Theoretical=10^(log10(L$C)-2*log10(L$AuthorProd[,1]))

plot(L$AuthorProd[,1],Theoretical,type="l",col="red",ylim=c(0, 1), xlab="Artigos",ylab="Freq. por autores",main="Produção Científica")
lines(L$AuthorProd[,1],Observed,col="blue")
legend(x="topright",c("Lei te Lotka (B=2)","Observado"),col=c("red","blue"),lty = c(1,1,1),cex=0.6,bty="n")
```

